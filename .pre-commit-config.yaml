repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      - id: end-of-file-fixer
      - id: trailing-whitespace

  - repo: local
    hooks:
      - id: generate-dvorakjp-rule
        name: 'üîß [aquaskk] generate romaji table'
        entry: bash -c 'make -C config/aquaskk && git add -u'
        language: system
        files: ^config/aquaskk/romaji\.jsonnet$

      - id: format-bttpreset
        name: '‚ú® [bettertouchtool] format bttpreset'
        entry: bash -c 'bun x prettier --parser json -w config/bettertouchtool/default.bttpreset && git add -u'
        language: system
        files: ^config/bettertouchtool/default\.bttpreset$

      # Using aqua-managed tools (see: aqua.yaml)
      - id: shfmt # mvdan/sh package in aqua.yaml
        name: 'üîß shfmt'
        entry: shfmt -w
        language: system  # managed by aqua (see: aqua.yaml)
        types: [shell]
        exclude: \.(zsh|zshenv|zshrc)$

      - id: stylua # JohnnyMorganz/StyLua package in aqua.yaml
        name: 'üîß stylua'
        entry: stylua
        language: system
        types: [lua]

      - id: shellcheck # koalaman/shellcheck package in aqua.yaml
        name: 'üîç shellcheck'
        entry: shellcheck
        language: system
        types: [shell]
        exclude: \.(zsh|zshenv|zshrc)$
  - repo: https://github.com/renovatebot/pre-commit-hooks
    rev: 39.113.0
    hooks:
      - id: renovate-config-validator
