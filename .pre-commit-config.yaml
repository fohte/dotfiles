repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      - id: end-of-file-fixer
      - id: trailing-whitespace

  - repo: local
    hooks:
      - id: generate-dvorakjp-rule
        name: '🔧 [aquaskk] generate romaji table'
        entry: bash -c 'make -C config/aquaskk && git add -u'
        language: system
        files: ^config/aquaskk/romaji\.jsonnet$

      - id: format-bttpreset
        name: '✨ [bettertouchtool] format bttpreset'
        entry: bash -c 'mise x -- bun x prettier --parser json -w config/bettertouchtool/default.bttpreset && git add -u'
        language: system
        files: ^config/bettertouchtool/default\.bttpreset$

      # Using mise-managed tools with lazy install
      - id: shfmt
        name: '🔧 shfmt'
        entry: mise x -- shfmt -w
        language: system
        types: [shell]
        exclude: \.(zsh|zshenv|zshrc)$

      - id: stylua
        name: '🔧 stylua'
        entry: mise x -- stylua
        language: system
        types: [lua]

      - id: shellcheck
        name: '🔍 shellcheck'
        entry: mise x -- shellcheck
        language: system
        types: [shell]
        exclude: \.(zsh|zshenv|zshrc)$

  - repo: https://github.com/renovatebot/pre-commit-hooks
    rev: 41.21.1
    hooks:
      - id: renovate-config-validator
