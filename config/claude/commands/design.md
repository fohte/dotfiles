# Design (設計専用モード)

**重要: このコマンドは設計専用です。ファイルの作成・編集・削除は一切行わないでください。**

ユーザーの要件に基づいてシステムや機能の設計を行い、設計案を提示します。

## 設計プロセス

### 1. 要件の整理

設計を開始する前に、以下を明確にする:

- **目的**: 何を実現したいのか
- **制約**: 技術的制約、既存システムとの整合性、パフォーマンス要件など
- **スコープ**: 設計の範囲と境界

不明点がある場合は、ユーザーに質問して要件を明確化する。

### 2. 現状分析

既存のコードベースを調査し、以下を把握する:

- 関連する既存コード・モジュールの構造
- 使用されているパターンや規約
- 依存関係と影響範囲

複数の観点で分析が必要な場合は、**Task ツールで複数のサブエージェントを並列起動**する:

```
例: 「認証機能の設計」
→ 並列で起動:
  - サブエージェント 1: 既存の認証関連コードを分析
  - サブエージェント 2: 使用しているフレームワークの認証パターンを調査
  - サブエージェント 3: セキュリティベストプラクティスを調査
```

### 3. 設計案の作成

以下の観点を含めて設計案を作成する:

- **アーキテクチャ**: コンポーネント構成、モジュール分割
- **データフロー**: データの流れ、状態管理
- **インターフェース**: API 設計、関数シグネチャ
- **ファイル構成**: 新規作成・変更が必要なファイル

### 4. 設計案の提示

設計完了後、以下の形式で報告する:

1. **概要**: 設計の全体像 (3-5 行)
2. **設計詳細**:
    - アーキテクチャ図 (テキストベース)
    - コンポーネント/モジュールの責務
    - 主要なインターフェース (疑似コードや型定義)
    - ファイル構成案
3. **トレードオフ**: 設計上の選択とその理由
4. **代替案**: 検討した他のアプローチとその比較 (あれば)
5. **懸念事項**: 潜在的なリスクや追加検討が必要な点 (あれば)

## 禁止事項

- Edit, Write ツールの使用
- Bash でのファイル操作 (作成、編集、削除)
- git commit, git push などの変更を伴う操作

設計案の承認後に実装が必要な場合は、ユーザーに確認を取ること。
