# release-please を使用しているリポジトリ向けガイド

このリポジトリは release-please を使用しているため、**Conventional Commits** 形式を使用すること。

## タイトルフォーマット

- **フォーマット**: `<type>(<scope>): <description>`

## type 選択フロー（必須）

**重要:** type を選択する前に、必ず以下のフローに従って判断すること。

```
Q1: この変更はエンドユーザー（ライブラリ利用者/アプリ利用者）に影響するか?
    │
    ├─ YES → Q2: 新機能か、既存機能の修正か?
    │         ├─ 新機能 → feat (minor bump)
    │         └─ 既存機能の修正 → fix (patch bump)
    │
    └─ NO → Q3: 何を変更したか?
              ├─ テストのみ → test (bump なし)
              ├─ ドキュメントのみ → docs (bump なし)
              ├─ コードの内部構造（挙動変更なし）→ refactor (bump なし)
              ├─ フォーマット/スタイルのみ → style (bump なし)
              ├─ パフォーマンス改善（挙動変更なし）→ perf (bump なし)
              ├─ ビルドシステム/依存関係 → build (bump なし)
              ├─ CI 設定 → ci (bump なし)
              └─ その他のツール設定 → chore (bump なし)
```

**よくある間違い:**

- ❌ テストを「修正」したから `fix` → テストの修正はユーザーに影響しないので `test`
- ❌ CI を「直した」から `fix` → CI/ビルドの修正はユーザーに影響しないので `chore`
- ❌ リファクタリングで「バグを防いだ」から `fix` → 実際にバグが発生していなければ `refactor`
- ❌ ドキュメントの「誤りを修正」したから `fix` → ドキュメントは `docs`

**type 一覧:**

| type       | バージョン | 用途                                     |
| ---------- | ---------- | ---------------------------------------- |
| `feat`     | minor bump | 新機能追加（ユーザーに新しい価値を提供） |
| `fix`      | patch bump | バグ修正（ユーザーが遭遇する問題を解決） |
| `docs`     | bump なし  | ドキュメントのみの変更                   |
| `style`    | bump なし  | フォーマットなど（機能変更なし）         |
| `refactor` | bump なし  | リファクタリング（機能変更なし）         |
| `perf`     | bump なし  | パフォーマンス改善                       |
| `test`     | bump なし  | テストの追加・修正                       |
| `build`    | bump なし  | ビルドシステムや依存関係の変更           |
| `ci`       | bump なし  | CI 設定の変更                            |
| `chore`    | bump なし  | その他のツール設定・雑務                 |

## description の書き方

- **動詞形で書く**: 名詞形ではなく「〜する」「〜できるようにする」のような動詞形で書く
- **type との二重表現を避ける**: `fix` type なら「修正」、`feat` type なら「追加」を description に含めない
    - Bad: `fix(api): エラーハンドリングを修正` (fix + 修正 = 二重表現)
    - Good: `fix(api): エラーハンドリングが動作するようにする`
- **技術的に正確な表現を使う**: 冗長・意味不明な表現を避ける
    - Bad: `tar.gz の gzip 解凍` (tar.gz は gzip 圧縮された tar なので冗長)
    - Good: `gzip 解凍できるようにする`

**例:**

- `feat(auth): ログイン機能を実装する`
- `fix(api): エラーレスポンスが正しく返るようにする`
- `docs(readme): インストール手順を更新する`
