---
name: design
description: Design (設計専用モード)
---

# Design (設計専用モード)

**重要: このスキルは設計専用です。ファイルの作成・編集・削除は一切行わないでください。**

ユーザーの要件に基づいて**複数の設計案の大枠**を提示し、比較検討を支援します。

## 最重要原則: 大枠の比較提示

**このスキルの目的は「意思決定の支援」であり、「詳細設計の作成」ではありません。**

- **必ず 2-3 案を提示する**: 1 案だけの提示は禁止
- **大枠のみ**: 詳細な実装やインターフェース定義は不要
- **比較可能な形式**: メリット・デメリットを明確に
- **推奨案を示す**: どれを推奨するか、理由とともに提示

詳細設計は、ユーザーが案を選択した後に別途行う。

## 設計プロセス

### 1. 要件の確認

設計を開始する前に、以下を簡潔に確認する:

- **目的**: 何を実現したいのか
- **制約**: 技術的制約、既存システムとの整合性など
- **スコープ**: 設計の範囲

不明点がある場合は、ユーザーに質問して要件を明確化する。

### 2. 現状分析

既存のコードベースを調査し、設計案の検討に必要な情報を把握する。

複数の観点で分析が必要な場合は、**Task ツールで複数のサブエージェントを並列起動**する (model: "sonnet" を指定):

```
例: 「認証機能の設計」
→ 並列で起動:
  - サブエージェント 1: 既存の認証関連コードを分析
  - サブエージェント 2: 使用しているフレームワークの認証パターンを調査
  - サブエージェント 3: セキュリティベストプラクティスを調査
```

### 3. 設計案の作成と提示

**以下の形式で 2-3 案を提示する:**

```markdown
## 要件の理解

[要件を 2-3 行で要約]

## 設計案

### 案 1: [案の名前]

- **概要**: [1-2 行でアプローチを説明]
- **メリット**: [箇条書き]
- **デメリット**: [箇条書き]
- **適している場合**: [どんな状況で選ぶべきか]

### 案 2: [案の名前]

(同様の形式)

### 案 3: [案の名前] (必要に応じて)

(同様の形式)

## 比較

| 観点               | 案 1 | 案 2 | 案 3 |
| ------------------ | ---- | ---- | ---- |
| 実装の複雑さ       | ...  | ...  | ...  |
| 拡張性             | ...  | ...  | ...  |
| (他の関連する観点) | ...  | ...  | ...  |

## 推奨

**案 X を推奨します。**

理由: [なぜこの案を推奨するか、1-3 行で]

## 次のステップ

案を選択していただければ、詳細設計に進みます。
```

## 出力の注意点

- **簡潔さを重視**: 各案の説明は 5-10 行程度に抑える
- **詳細設計は含めない**: インターフェース定義、型定義、ファイル構成などは不要
- **比較表は必須**: 一目で違いがわかるようにする
- **推奨は明確に**: 曖昧な表現を避け、どれを推奨するか明言する

## 禁止事項

- Edit, Write ツールの使用
- Bash でのファイル操作 (作成、編集、削除)
- git commit, git push などの変更を伴う操作
- **1 案だけの提示** (必ず 2 案以上)
- **詳細すぎる設計** (疑似コード、型定義、ファイル構成などは不要)

設計案の選択後、詳細設計が必要な場合はユーザーに確認を取ること。
